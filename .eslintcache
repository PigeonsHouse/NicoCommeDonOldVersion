[{"C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\index.js":"1","C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\reportWebVitals.js":"2","C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\CommentPage.js":"3","C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\Router.js":"4","C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\Token.js":"5"},{"size":509,"mtime":1608052908839,"results":"6","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"7"},{"size":2063,"mtime":1608275037433,"results":"9","hashOfConfig":"7"},{"size":466,"mtime":1608176127203,"results":"10","hashOfConfig":"7"},{"size":3265,"mtime":1608261098136,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"vzw4sd",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\index.js",[],["24","25"],"C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\reportWebVitals.js",[],"C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\CommentPage.js",["26"],"import Mastodon from 'mastodon-api';\r\nimport React, {Component} from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport anime from 'animejs';\r\nimport './Comment.css';\r\n\r\nclass CommentPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.mstdn = new Mastodon({\r\n      access_token: this.props.location.state.token,\r\n      api_url: this.props.location.state.url + '/api/v1/',\r\n    })\r\n    this.moveComment = anime({\r\n      targets: ['.comment'],\r\n      translateX: '100vw',\r\n      autoplay: true\r\n    });\r\n    this.state = {\r\n      account: 'アルティメッ鳩',\r\n      content: 'アニメーション微塵も思いつかなくて草',\r\n    };\r\n    this.rewrite = this.rewrite.bind(this);\r\n    this.getName = this.getName.bind(this);\r\n    this.streamStart = this.streamStart.bind(this);\r\n  }\r\n\r\n  rewrite(txt){\r\n    txt = txt.replace('</p><p>', '　')\r\n    txt = txt.replace('<p>', '')\r\n    txt = txt.replace('</p>', '')\r\n    txt = txt.replace('<br />','　')\r\n    txt = txt.replace('&apos;', '\\'')\r\n    txt = txt.replace('&amp;', '&')\r\n    txt = txt.replace('&quot;', '\\\"')\r\n    return txt\r\n  }\r\n\r\n  getName(account){\r\n    if(account.display_name.length){\r\n      return account.display_name;\r\n    } else {\r\n      return account.username;\r\n    }\r\n  }\r\n\r\n  streamStart(){\r\n    this.mstdn.stream('streaming/public/local').on('message', (msg) => {\r\n      if (msg.event === \"update\"){\r\n        this.setState({\r\n          account: this.getName(msg.data.account),\r\n          content: this.rewrite(msg.data.content),\r\n        })\r\n        this.moveComment.play();\r\n        console.log(this.moveComment);\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div class='screen'>\r\n          <div class=\"comment\">\r\n            <p id=\"content\">{this.state.content}</p>\r\n            <p id=\"user\">{this.state.account}</p>\r\n          </div>\r\n        </div>\r\n        <input type='button' value='LTLの監視開始' onClick={this.streamStart()} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(CommentPage);","C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\Router.js",[],"C:\\Users\\bullb\\Desktop\\C3\\OBS_Mastodon\\obs-mastodon\\src\\Token.js",[],{"ruleId":"27","replacedBy":"28"},{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","severity":1,"message":"32","line":35,"column":34,"nodeType":"33","messageId":"34","endLine":35,"endColumn":35,"suggestions":"35"},"no-native-reassign",["36"],"no-negated-in-lhs",["37"],"no-useless-escape","Unnecessary escape character: \\\".","Literal","unnecessaryEscape",["38","39"],"no-global-assign","no-unsafe-negation",{"messageId":"40","fix":"41","desc":"42"},{"messageId":"43","fix":"44","desc":"45"},"removeEscape",{"range":"46","text":"47"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"48","text":"49"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1055,1056],"",[1055,1055],"\\"]